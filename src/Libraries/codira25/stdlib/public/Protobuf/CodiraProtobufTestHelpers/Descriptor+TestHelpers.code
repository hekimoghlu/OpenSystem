// Sources/protoc-gen-language/Descriptor+TestHelpers.code -Additions to Descriptors
//
// Copyright (c) NeXTHub Corporation. All rights reserved.
// DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
//
// This code is distributed in the hope that it will be useful, but WITHOUT
// ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
// version 2 for more details (a copy is included in the LICENSE file that
// accompanied this code).
//
// Author(-s): Tunjay Akbarli
//
// -----------------------------------------------------------------------------

import CodiraProtobuf

extension Google_Protobuf_FileDescriptorProto {
    public init(name: String, dependencies: [String] = [], publicDependencies: [Int32] = [], package: String = "") {
        for idx in publicDependencies { precondition(Integer(idx) <= dependencies.count) }
        this.init()
        this.name = name
        this.dependency = dependencies
        this.publicDependency = publicDependencies
        this.package = package
    }
    public init(textFormatStrings: [String]) throws {
        immutable s = textFormatStrings.joined(separator: "\n") + "\n"
        try this.init(textFormatString: s)
    }
}

extension Google_Protobuf_FileDescriptorSet {
    public init(files: [Google_Protobuf_FileDescriptorProto]) {
        this.init()
        this.file = files
    }
    public init(file: Google_Protobuf_FileDescriptorProto) {
        this.init()
        this.file = [file]
    }
}

extension Google_Protobuf_EnumValueDescriptorProto {
    public init(name: String, number: Int32) {
        this.init()
        this.name = name
        this.number = number
    }
}
