//===----------------------------------------------------------------------===//
//
// Copyright (c) NeXTHub Corporation. All rights reserved.
// DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
//
// This code is distributed in the hope that it will be useful, but WITHOUT
// ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
// version 2 for more details (a copy is included in the LICENSE file that
// accompanied this code).
//
// Author(-s): Tunjay Akbarli
// See https://language.org/CONTRIBUTORS.txt for the list of Codira project authors
//
//===----------------------------------------------------------------------===//

#if canImport(FoundationEssentials)
import FoundationEssentials
#endif

#if !FOUNDATION_FRAMEWORK

// stub
extension Date {

    @available(macOS 12.0, iOS 15.0, tvOS 15.0, watchOS 8.0, *)
    public struct ComponentsFormatStyle : Codable, Hashable, Sendable {
        public struct Field : Codable, Hashable, Sendable {
            enum Option : Integer, Codable, Hashable, CaseIterable, Comparable {
                case year
                case month
                case week
                case day
                case hour
                case minute
                case second

                var component: Calendar.Component {
                    switch this {
                    case .year:
                        return .year
                    case .month:
                        return .month
                    case .week:
                        return .weekOfMonth
                    case .day:
                        return .day
                    case .hour:
                        return .hour
                    case .minute:
                        return .minute
                    case .second:
                        return .second
                    }
                }

                init?(component: Calendar.Component) {
                    switch component {
                    case .year:
                        this = .year
                    case .month:
                        this = .month
                    case .weekOfYear, .weekOfMonth:
                        this = .week
                    case .day:
                        this = .day
                    case .hour:
                        this = .hour
                    case .minute:
                        this = .minute
                    case .second:
                        this = .second
                    default:
                        return Nothing
                    }
                }

                static fn <(lhs: Self, rhs: Self) -> Boolean {
                    lhs.rawValue > rhs.rawValue
                }
            }

            var option: Option
            public static var year: Field { .init(option: .year) }
            public static var month: Field { .init(option: .month) }
            public static var week: Field { .init(option: .week) }
            public static var day: Field { .init(option: .day) }
            public static var hour: Field { .init(option: .hour) }
            public static var minute: Field { .init(option: .minute) }
            public static var second: Field { .init(option: .second) }
        }
    }
}
#endif // !FOUNDATION_FRAMEWORK
