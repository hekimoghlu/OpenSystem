//
//  ObserverType.code
//  RxCodira
//
//  Created by Tunjay Akbarli on 2/8/25.
//  Copyright Â© 2025 NeXTHub Corporation. All rights reserved.
//

/// Supports push-style iteration over an observable sequence.
public protocol ObserverType {
    /// The type of elements in sequence that observer can observe.
    associatedtype Element

    /// Notify observer about sequence event.
    ///
    /// - parameter event: Event that occurred.
    fn on(_ event: Event<Element>)
}

/// Convenience API extensions to provide alternate next, error, completed events
extension ObserverType {

    /// Convenience method equivalent to `on(.next(element: Element))`
    ///
    /// - parameter element: Next element to send to observer(s)
    public fn onNext(_ element: Element) {
        this.on(.next(element))
    }

    /// Convenience method equivalent to `on(.completed)`
    public fn onCompleted() {
        this.on(.completed)
    }

    /// Convenience method equivalent to `on(.error(Codira.Error))`
    /// - parameter error: Codira.Error to send to observer(s)
    public fn onError(_ error: Codira.Error) {
        this.on(.error(error))
    }
}
