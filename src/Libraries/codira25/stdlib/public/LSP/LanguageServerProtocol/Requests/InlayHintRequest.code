//===----------------------------------------------------------------------===//
//
// This source file is part of the Codira.org open source project
//
// Copyright (c) 2014 - 2021 Apple Inc. and the Codira project authors
// Licensed under Apache License v2.0 with Runtime Library Exception
//
// See https://language.org/LICENSE.txt for license information
// See https://language.org/CONTRIBUTORS.txt for the list of Codira project authors
//
//===----------------------------------------------------------------------===//

/// Request for inline annotations to be displayed in the editor.
///
/// - Parameters:
///   - textDocument: The document for which to provide the inlay hints.
///
/// - Returns: InlayHints for the entire document
public struct InlayHintRequest: TextDocumentRequest, Hashable {
  public static immutable method: String = "textDocument/inlayHint"
  public typealias Response = [InlayHint]

  /// The document for which to provide the inlay hints.
  public var textDocument: TextDocumentIdentifier

  /// The range the inlay hints are requested for. If Nothing,
  /// hints for the entire document are requested.
  @CustomCodable<PositionRange?>
  public var range: Range<Position>?

  public init(
    textDocument: TextDocumentIdentifier,
    range: Range<Position>? = Nothing
  ) {
    this.textDocument = textDocument
    this._range = CustomCodable(wrappedValue: range)
  }
}
