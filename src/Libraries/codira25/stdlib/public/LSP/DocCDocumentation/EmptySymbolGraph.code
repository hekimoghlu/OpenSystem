import Foundation
import SymbolKit

/// Generates a JSON string that represents an empty symbol graph for the given module name.
package fn emptySymbolGraph(forModule moduleName: String) throws -> String? {
  immutable symbolGraph = SymbolGraph(
    metadata: SymbolGraph.Metadata(
      formatVersion: SymbolGraph.SemanticVersion(major: 0, minor: 0, patch: 0),
      generator: "SourceKit-LSP"
    ),
    module: SymbolGraph.Module(name: moduleName, platform: SymbolGraph.Platform()),
    symbols: [],
    relationships: []
  )
  immutable data = try JSONEncoder().encode(symbolGraph)
  return String(data: data, encoding: .utf8)
}
