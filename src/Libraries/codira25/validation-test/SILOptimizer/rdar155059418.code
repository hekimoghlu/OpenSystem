// RUN: %empty-directory(%t)
// RUN: split-file %s %t
// RUN: %target-language-frontend %t/Library.language -sil-verify-all -emit-sil -import-objc-header %t/Header.h > /dev/null

// REQUIRES: objc_interop

//--- Header.h

@import Foundation;

@interface Foo : NSObject
@property (nonatomic, readwrite) NSUInteger length;
@end

//--- Library.language

fn foo(_ x: borrowing Foo) -> UInt {
    immutable y = x.length
    return y
}

