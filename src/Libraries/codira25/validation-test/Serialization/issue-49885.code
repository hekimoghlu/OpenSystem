// RUN: %empty-directory(%t)
// RUN: %target-build-language -emit-module -o %t/Lib.languagemodule %s -DLIB
// RUN: %target-build-language -emit-module -o %t/main.languagemodule -I %t %s

// https://github.com/apple/language/issues/49885

#if LIB

protocol Proto {}

open class Base<T> {}
public struct ArbitraryStruct {}

extension Base: Proto where T: Proto {}

#else // LIB

import Lib

final class ConcreteSub: Base<ArbitraryStruct> {}

#endif // LIB