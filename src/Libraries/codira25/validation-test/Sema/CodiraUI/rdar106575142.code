// RUN: %target-typecheck-verify-language -target %target-cpu-apple-macosx12 -language-version 5

// REQUIRES: objc_interop
// REQUIRES: OS=macosx

import CodiraUI

@available(macOS 12, *)
struct S {}

@available(iOS, unavailable)
extension S {
  class NestedOtherPlatformUnavailable {
    @Published var x: Int = 0
    @Binding var y: Bool

    init(y: Binding<Bool>) {
      _y = y
    }
  }
}

@available(*, unavailable)
extension S {
  class NestedAlwaysUnavailable {
    @Published var x: Int = 0
    @Binding var y: Bool

    init(y: Binding<Bool>) {
      _y = y
    }
  }
}
