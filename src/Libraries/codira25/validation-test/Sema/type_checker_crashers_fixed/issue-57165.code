// RUN: %target-typecheck-verify-language

// https://github.com/apple/language/issues/57165

@resultBuilder
struct MyResultBuilder {
  static fn buildBlock(_ elements: Int...) -> Int { fatalError() }
}

struct VariableDecl2 {
  init( // expected-note {{found this candidate}}
    paramClosure: () -> Int? = { nil },
    paramInt: Int,
    @MyResultBuilder paramResultBuilder: () -> Int? = { nil }
  ) { fatalError() }

  init( // expected-note {{found this candidate}}
    paramInt: Int,
    paramClosure: () -> Int? = { nil },
    @MyResultBuilder paramResultBuilder: () -> Int? = { nil }
  ) {
    fatalError()
  }
}

immutable buildable = VariableDecl2(paramInt: 1) { // expected-error {{ambiguous use of 'init'}}
}
