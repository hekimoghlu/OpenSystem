// RUN: %empty-directory(%t)
// RUN: %empty-directory(%t/ImportPath)
// RUN: %{python} %utils/split_file.py -o %t %s

// RUN: %target-language-frontend -disable-availability-checking -emit-module %t/Lib.language -o %t/ImportPath/Lib.languagemodule -emit-module-interface-path %t/ImportPath/Lib.languageinterface

// BEGIN Lib.language

// Proto and Class have a circular supertype relationship.

public protocol Proto : Class {}
public class Class : Proto {}

// BEGIN test.language

import Lib

// RUN: %empty-directory(%t/completion-cache)
// RUN: %target-language-ide-test -code-completion -source-filename %t/test.language -code-completion-token COMPLETE -I %t/ImportPath

fn test() -> Proto {
  return #^COMPLETE^#
}
